<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Absensi RANAP</title>
    <script src="https://unpkg.com/html5-qrcode"></script>
</head>
<body>
    <h1>Absensi Masuk</h1>
    <div id="status">Menyiapkan absensi...</div>

    <script>
        // Ambil parameter dari URL
        function getQueryParam(param) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(param);
        }

        const id = getQueryParam("id");
        const nama = getQueryParam("nama");

        if (id && nama) {
            document.getElementById("status").innerText = `Mengirim data absen untuk ${nama}...`;

            fetch("https://script.google.com/macros/s/AKfycbwWUrJibT5-midkLMW3I4NVHTHKP6cfiAE_rfgYJTx2_rN2CBxpt2h2sT0FJy5a/exec
", {
                method: "POST",
                contentType: "application/json",
                body: JSON.stringify({ id: id, nama: nama })
            })
            .then(response => response.text())
            .then(result => {
                document.getElementById("status").innerText = "✅ Absen berhasil!";
            })
            .catch(error => {
                document.getElementById("status").innerText = "❌ Gagal absen!";
                console.error(error);
            });
        } else {
            document.getElementById("status").innerText = "❗ Parameter tidak lengkap di URL!";
        }
    </script>
</body>
</html>
``
